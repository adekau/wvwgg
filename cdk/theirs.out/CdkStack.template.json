{
 "Resources": {
  "NextJsNextjsStaticAssetsBucketA3847FEE": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsStaticAssets/Bucket/Resource"
   }
  },
  "NextJsNextjsStaticAssetsBucketPolicy774F83C2": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "NextJsNextjsStaticAssetsBucketA3847FEE"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "NextJsNextjsStaticAssetsBucketA3847FEE",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "NextJsNextjsStaticAssetsBucketA3847FEE",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "s3:*",
       "Condition": {
        "NumericLessThan": {
         "s3:TlsVersion": 1.2
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "NextJsNextjsStaticAssetsBucketA3847FEE",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "NextJsNextjsStaticAssetsBucketA3847FEE",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:PutBucketPolicy"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "NextJsNextjsStaticAssetsBucketA3847FEE",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "NextJsNextjsStaticAssetsBucketA3847FEE",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "s3:GetObject",
       "Condition": {
        "StringEquals": {
         "AWS:SourceArn": {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":cloudfront::",
            {
             "Ref": "AWS::AccountId"
            },
            ":distribution/",
            {
             "Ref": "NextJsNextjsDistributionCC78932F"
            }
           ]
          ]
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "cloudfront.amazonaws.com"
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "NextJsNextjsStaticAssetsBucketA3847FEE",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsStaticAssets/Bucket/Policy/Resource"
   }
  },
  "NextJsNextjsStaticAssetsBucketAutoDeleteObjectsCustomResourceC73ADC4D": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "NextJsNextjsStaticAssetsBucketA3847FEE"
    }
   },
   "DependsOn": [
    "NextJsNextjsStaticAssetsBucketPolicy774F83C2"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsStaticAssets/Bucket/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "NextJsNextjsVpc9CFBA973": {
   "Type": "AWS::EC2::VPC",
   "Properties": {
    "CidrBlock": "10.0.0.0/16",
    "EnableDnsHostnames": true,
    "EnableDnsSupport": true,
    "InstanceTenancy": "default",
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/Resource"
   }
  },
  "NextJsNextjsVpcPublicSubnet1Subnet573B8734": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": {
     "Fn::Select": [
      0,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "10.0.0.0/19",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1/Subnet"
   }
  },
  "NextJsNextjsVpcPublicSubnet1RouteTable12CDC5FB": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1/RouteTable"
   }
  },
  "NextJsNextjsVpcPublicSubnet1RouteTableAssociationD72F0E51": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPublicSubnet1RouteTable12CDC5FB"
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPublicSubnet1Subnet573B8734"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1/RouteTableAssociation"
   }
  },
  "NextJsNextjsVpcPublicSubnet1DefaultRouteBED4748F": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "NextJsNextjsVpcIGW37829383"
    },
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPublicSubnet1RouteTable12CDC5FB"
    }
   },
   "DependsOn": [
    "NextJsNextjsVpcVPCGW2F768CD2"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1/DefaultRoute"
   }
  },
  "NextJsNextjsVpcPublicSubnet1EIP44177157": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1/EIP"
   }
  },
  "NextJsNextjsVpcPublicSubnet1NATGateway3EB6E3AF": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "NextJsNextjsVpcPublicSubnet1EIP44177157",
      "AllocationId"
     ]
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPublicSubnet1Subnet573B8734"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1"
     }
    ]
   },
   "DependsOn": [
    "NextJsNextjsVpcPublicSubnet1DefaultRouteBED4748F",
    "NextJsNextjsVpcPublicSubnet1RouteTableAssociationD72F0E51"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet1/NATGateway"
   }
  },
  "NextJsNextjsVpcPublicSubnet2SubnetCFB7DE52": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": {
     "Fn::Select": [
      1,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "10.0.32.0/19",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2/Subnet"
   }
  },
  "NextJsNextjsVpcPublicSubnet2RouteTable9FB82F26": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2/RouteTable"
   }
  },
  "NextJsNextjsVpcPublicSubnet2RouteTableAssociationC7F9E9D9": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPublicSubnet2RouteTable9FB82F26"
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPublicSubnet2SubnetCFB7DE52"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2/RouteTableAssociation"
   }
  },
  "NextJsNextjsVpcPublicSubnet2DefaultRouteD072A4A0": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "NextJsNextjsVpcIGW37829383"
    },
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPublicSubnet2RouteTable9FB82F26"
    }
   },
   "DependsOn": [
    "NextJsNextjsVpcVPCGW2F768CD2"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2/DefaultRoute"
   }
  },
  "NextJsNextjsVpcPublicSubnet2EIP73163638": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2/EIP"
   }
  },
  "NextJsNextjsVpcPublicSubnet2NATGateway361F8EA5": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "AllocationId": {
     "Fn::GetAtt": [
      "NextJsNextjsVpcPublicSubnet2EIP73163638",
      "AllocationId"
     ]
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPublicSubnet2SubnetCFB7DE52"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2"
     }
    ]
   },
   "DependsOn": [
    "NextJsNextjsVpcPublicSubnet2DefaultRouteD072A4A0",
    "NextJsNextjsVpcPublicSubnet2RouteTableAssociationC7F9E9D9"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PublicSubnet2/NATGateway"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet1Subnet5B3FAF3A": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": {
     "Fn::Select": [
      0,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "10.0.64.0/19",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "PrivateWithEgress"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet1/Subnet"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTable4A86D4E1": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet1/RouteTable"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTable4A86D4E1"
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1Subnet5B3FAF3A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet1/RouteTableAssociation"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "NextJsNextjsVpcPublicSubnet1NATGateway3EB6E3AF"
    },
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTable4A86D4E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet1/DefaultRoute"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet2SubnetD5C2942D": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": {
     "Fn::Select": [
      1,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "10.0.96.0/19",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "PrivateWithEgress"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet2/Subnet"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTable146B6A9F": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet2/RouteTable"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTable146B6A9F"
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2SubnetD5C2942D"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet2/RouteTableAssociation"
   }
  },
  "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "NextJsNextjsVpcPublicSubnet2NATGateway361F8EA5"
    },
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTable146B6A9F"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateWithEgressSubnet2/DefaultRoute"
   }
  },
  "NextJsNextjsVpcPrivateIsolatedSubnet1SubnetEAE5A97B": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": {
     "Fn::Select": [
      0,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "10.0.128.0/19",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "PrivateIsolated"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Isolated"
     },
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet1/Subnet"
   }
  },
  "NextJsNextjsVpcPrivateIsolatedSubnet1RouteTable88322598": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet1/RouteTable"
   }
  },
  "NextJsNextjsVpcPrivateIsolatedSubnet1RouteTableAssociation2BBC9A15": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPrivateIsolatedSubnet1RouteTable88322598"
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPrivateIsolatedSubnet1SubnetEAE5A97B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet1/RouteTableAssociation"
   }
  },
  "NextJsNextjsVpcPrivateIsolatedSubnet2SubnetB5BABF7F": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "AvailabilityZone": {
     "Fn::Select": [
      1,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "10.0.160.0/19",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "PrivateIsolated"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Isolated"
     },
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet2/Subnet"
   }
  },
  "NextJsNextjsVpcPrivateIsolatedSubnet2RouteTable671CC8BE": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet2"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet2/RouteTable"
   }
  },
  "NextJsNextjsVpcPrivateIsolatedSubnet2RouteTableAssociation6AF69EEF": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "NextJsNextjsVpcPrivateIsolatedSubnet2RouteTable671CC8BE"
    },
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPrivateIsolatedSubnet2SubnetB5BABF7F"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/PrivateIsolatedSubnet2/RouteTableAssociation"
   }
  },
  "NextJsNextjsVpcIGW37829383": {
   "Type": "AWS::EC2::InternetGateway",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/IGW"
   }
  },
  "NextJsNextjsVpcVPCGW2F768CD2": {
   "Type": "AWS::EC2::VPCGatewayAttachment",
   "Properties": {
    "InternetGatewayId": {
     "Ref": "NextJsNextjsVpcIGW37829383"
    },
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/VPCGW"
   }
  },
  "NextJsNextjsVpcRestrictDefaultSecurityGroupCustomResource1E3AB070": {
   "Type": "Custom::VpcRestrictDefaultSG",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E",
      "Arn"
     ]
    },
    "DefaultSecurityGroupId": {
     "Fn::GetAtt": [
      "NextJsNextjsVpc9CFBA973",
      "DefaultSecurityGroup"
     ]
    },
    "Account": {
     "Ref": "AWS::AccountId"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/RestrictDefaultSecurityGroupCustomResource/Default"
   }
  },
  "NextJsNextjsVpcSqsInterfaceEndpointSecurityGroup8272B7DF": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "CdkStack/NextJs/NextjsVpc/Vpc/SqsInterfaceEndpoint/SecurityGroup",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": {
       "Fn::GetAtt": [
        "NextJsNextjsVpc9CFBA973",
        "CidrBlock"
       ]
      },
      "Description": {
       "Fn::Join": [
        "",
        [
         "from ",
         {
          "Fn::GetAtt": [
           "NextJsNextjsVpc9CFBA973",
           "CidrBlock"
          ]
         },
         ":443"
        ]
       ]
      },
      "FromPort": 443,
      "IpProtocol": "tcp",
      "ToPort": 443
     }
    ],
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/SqsInterfaceEndpoint/SecurityGroup/Resource"
   }
  },
  "NextJsNextjsVpcSqsInterfaceEndpoint7F45D630": {
   "Type": "AWS::EC2::VPCEndpoint",
   "Properties": {
    "PrivateDnsEnabled": true,
    "SecurityGroupIds": [
     {
      "Fn::GetAtt": [
       "NextJsNextjsVpcSqsInterfaceEndpointSecurityGroup8272B7DF",
       "GroupId"
      ]
     }
    ],
    "ServiceName": "com.amazonaws.us-east-1.sqs",
    "SubnetIds": [
     {
      "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1Subnet5B3FAF3A"
     },
     {
      "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2SubnetD5C2942D"
     }
    ],
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsVpc/Vpc"
     }
    ],
    "VpcEndpointType": "Interface",
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsVpc/Vpc/SqsInterfaceEndpoint/Resource"
   }
  },
  "NextJsNextjsFileSystemF101088C": {
   "Type": "AWS::EFS::FileSystem",
   "Properties": {
    "Encrypted": true,
    "FileSystemPolicy": {
     "Statement": [
      {
       "Action": [
        "elasticfilesystem:ClientRootAccess",
        "elasticfilesystem:ClientWrite"
       ],
       "Condition": {
        "Bool": {
         "elasticfilesystem:AccessedViaMountTarget": "true"
        }
       },
       "Effect": "Allow",
       "Principal": {
        "AWS": "*"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "FileSystemTags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsFileSystem/FileSystem"
     }
    ],
    "LifecyclePolicies": [
     {
      "TransitionToIA": "AFTER_30_DAYS"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/FileSystem/Resource"
   }
  },
  "NextJsNextjsFileSystemEfsSecurityGroup4FEF6FC4": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "CdkStack/NextJs/NextjsFileSystem/FileSystem/EfsSecurityGroup",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "Tags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsFileSystem/FileSystem"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/FileSystem/EfsSecurityGroup/Resource"
   }
  },
  "NextJsNextjsFileSystemEfsSecurityGroupfromCdkStackNextJsNextjsAssetsDeploymentFnSecurityGroupE7A60B5E2049F343EFB6": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "from CdkStackNextJsNextjsAssetsDeploymentFnSecurityGroupE7A60B5E:2049",
    "FromPort": 2049,
    "GroupId": {
     "Fn::GetAtt": [
      "NextJsNextjsFileSystemEfsSecurityGroup4FEF6FC4",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "NextJsNextjsAssetsDeploymentFnSecurityGroupA6A38A38",
      "GroupId"
     ]
    },
    "ToPort": 2049
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/FileSystem/EfsSecurityGroup/from CdkStackNextJsNextjsAssetsDeploymentFnSecurityGroupE7A60B5E:2049"
   }
  },
  "NextJsNextjsFileSystemEfsSecurityGroupfromCdkStackNextJsNextjsFunctionsSecurityGroupCD4ABD8A20493989A87A": {
   "Type": "AWS::EC2::SecurityGroupIngress",
   "Properties": {
    "Description": "from CdkStackNextJsNextjsFunctionsSecurityGroupCD4ABD8A:2049",
    "FromPort": 2049,
    "GroupId": {
     "Fn::GetAtt": [
      "NextJsNextjsFileSystemEfsSecurityGroup4FEF6FC4",
      "GroupId"
     ]
    },
    "IpProtocol": "tcp",
    "SourceSecurityGroupId": {
     "Fn::GetAtt": [
      "NextJsNextjsFunctionsSecurityGroup230FAC37",
      "GroupId"
     ]
    },
    "ToPort": 2049
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/FileSystem/EfsSecurityGroup/from CdkStackNextJsNextjsFunctionsSecurityGroupCD4ABD8A:2049"
   }
  },
  "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F": {
   "Type": "AWS::EFS::MountTarget",
   "Properties": {
    "FileSystemId": {
     "Ref": "NextJsNextjsFileSystemF101088C"
    },
    "SecurityGroups": [
     {
      "Fn::GetAtt": [
       "NextJsNextjsFileSystemEfsSecurityGroup4FEF6FC4",
       "GroupId"
      ]
     }
    ],
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1Subnet5B3FAF3A"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/FileSystem/EfsMountTarget-PrivateWithEgressSubnet1"
   }
  },
  "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5": {
   "Type": "AWS::EFS::MountTarget",
   "Properties": {
    "FileSystemId": {
     "Ref": "NextJsNextjsFileSystemF101088C"
    },
    "SecurityGroups": [
     {
      "Fn::GetAtt": [
       "NextJsNextjsFileSystemEfsSecurityGroup4FEF6FC4",
       "GroupId"
      ]
     }
    ],
    "SubnetId": {
     "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2SubnetD5C2942D"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/FileSystem/EfsMountTarget-PrivateWithEgressSubnet2"
   }
  },
  "NextJsNextjsFileSystemAccessPoint9C99A27E": {
   "Type": "AWS::EFS::AccessPoint",
   "Properties": {
    "AccessPointTags": [
     {
      "Key": "Name",
      "Value": "CdkStack/NextJs/NextjsFileSystem/AccessPoint"
     }
    ],
    "FileSystemId": {
     "Ref": "NextJsNextjsFileSystemF101088C"
    },
    "PosixUser": {
     "Gid": "1001",
     "Uid": "1001"
    },
    "RootDirectory": {
     "CreationInfo": {
      "OwnerGid": "1001",
      "OwnerUid": "1001",
      "Permissions": "755"
     },
     "Path": "/cdk-nextjs"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFileSystem/AccessPoint/Resource"
   }
  },
  "NextJsNextjsAssetsDeploymentFnServiceRole112DE1E1": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsAssetsDeployment/Fn/ServiceRole/Resource"
   }
  },
  "NextJsNextjsAssetsDeploymentFnServiceRoleDefaultPolicy1421F434": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "elasticfilesystem:ClientMount",
       "Condition": {
        "StringEquals": {
         "elasticfilesystem:AccessPointArn": {
          "Fn::Join": [
           "",
           [
            "arn:aws:elasticfilesystem:us-east-1:",
            {
             "Ref": "AWS::AccountId"
            },
            ":access-point/",
            {
             "Ref": "NextJsNextjsFileSystemAccessPoint9C99A27E"
            }
           ]
          ]
         }
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "elasticfilesystem:ClientWrite",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:elasticfilesystem:us-east-1:",
          {
           "Ref": "AWS::AccountId"
          },
          ":file-system/",
          {
           "Ref": "NextJsNextjsFileSystemF101088C"
          }
         ]
        ]
       }
      },
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "NextJsNextjsStaticAssetsBucketA3847FEE",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "NextJsNextjsStaticAssetsBucketA3847FEE",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "NextJsNextjsAssetsDeploymentFnServiceRoleDefaultPolicy1421F434",
    "Roles": [
     {
      "Ref": "NextJsNextjsAssetsDeploymentFnServiceRole112DE1E1"
     }
    ]
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsAssetsDeployment/Fn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "NextJsNextjsAssetsDeploymentFnSecurityGroupA6A38A38": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function CdkStackNextJsNextjsAssetsDeploymentFn10C0E6BA",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsAssetsDeployment/Fn/SecurityGroup/Resource"
   }
  },
  "NextJsNextjsAssetsDeploymentFnAF5AAFC3": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "ImageUri": {
      "Fn::Sub": "${AWS::AccountId}.dkr.ecr.us-east-1.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-${AWS::AccountId}-us-east-1:4a3a99c3974e08e250562d999817111b1f1d170c8c7b7a6896e3471837668257"
     }
    },
    "Environment": {
     "Variables": {
      "DEBUG": "1"
     }
    },
    "FileSystemConfigs": [
     {
      "Arn": {
       "Fn::Join": [
        "",
        [
         "arn:aws:elasticfilesystem:us-east-1:",
         {
          "Ref": "AWS::AccountId"
         },
         ":access-point/",
         {
          "Ref": "NextJsNextjsFileSystemAccessPoint9C99A27E"
         }
        ]
       ]
      },
      "LocalMountPath": "/mnt/cdk-nextjs"
     }
    ],
    "MemorySize": 2048,
    "PackageType": "Image",
    "Role": {
     "Fn::GetAtt": [
      "NextJsNextjsAssetsDeploymentFnServiceRole112DE1E1",
      "Arn"
     ]
    },
    "Timeout": 300,
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "NextJsNextjsAssetsDeploymentFnSecurityGroupA6A38A38",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1Subnet5B3FAF3A"
      },
      {
       "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2SubnetD5C2942D"
      }
     ]
    }
   },
   "DependsOn": [
    "NextJsNextjsAssetsDeploymentFnServiceRoleDefaultPolicy1421F434",
    "NextJsNextjsAssetsDeploymentFnServiceRole112DE1E1",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsFileSystemEfsSecurityGroupfromCdkStackNextJsNextjsAssetsDeploymentFnSecurityGroupE7A60B5E2049F343EFB6",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsAssetsDeployment/Fn/Resource",
    "aws:asset:path": "asset.4a3a99c3974e08e250562d999817111b1f1d170c8c7b7a6896e3471837668257.lambda",
    "aws:asset:dockerfile-path": "assets-deployment.Dockerfile",
    "aws:asset:docker-build-args": {
     "BUILDER_IMAGE_TAG": "cdk-nextjs/builder-1a2f314c0a16",
     "RELATIVE_PATH_TO_WORKSPACE": "."
    },
    "aws:asset:property": "Code.ImageUri"
   }
  },
  "NextJsNextjsAssetsDeploymentCustomResource3AFD6925": {
   "Type": "Custom::NextjsAssetsDeployment",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "NextJsNextjsAssetsDeploymentFnAF5AAFC3",
      "Arn"
     ]
    },
    "actions": [
     {
      "type": "fs-to-s3",
      "sourcePath": "/app/.next/static",
      "destinationBucketName": {
       "Ref": "NextJsNextjsStaticAssetsBucketA3847FEE"
      },
      "destinationKeyPrefix": "_next/static"
     },
     {
      "type": "fs-to-fs",
      "sourcePath": "/app/.next/cache/fetch-cache",
      "destinationPath": "/mnt/cdk-nextjs/data-cache"
     },
     {
      "type": "fs-to-fs",
      "sourcePath": "/app/.next/standalone/.next/server/app",
      "destinationPath": "/mnt/cdk-nextjs/full-route-cache"
     },
     {
      "type": "fs-to-fs",
      "sourcePath": "/app/public",
      "destinationPath": "/mnt/cdk-nextjs/public"
     }
    ],
    "buildImageDigest": "sha256:e65fe9b64bc5a45bb4269c1d6ee3e05483884c101494cc2f77b762c3f27c493b",
    "imageCachePath": "/mnt/cdk-nextjs/image-cache",
    "nextjsType": "GLOBAL_FUNCTIONS",
    "prerenderManifestPath": "/app/.next/prerender-manifest.json"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsAssetsDeployment/CustomResource/Default"
   }
  },
  "NextJsNextjsFunctionsServiceRoleF0A9BA6F": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFunctions/Functions/ServiceRole/Resource"
   }
  },
  "NextJsNextjsFunctionsServiceRoleDefaultPolicy67C77442": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "elasticfilesystem:ClientMount",
       "Condition": {
        "StringEquals": {
         "elasticfilesystem:AccessPointArn": {
          "Fn::Join": [
           "",
           [
            "arn:aws:elasticfilesystem:us-east-1:",
            {
             "Ref": "AWS::AccountId"
            },
            ":access-point/",
            {
             "Ref": "NextJsNextjsFileSystemAccessPoint9C99A27E"
            }
           ]
          ]
         }
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "elasticfilesystem:ClientWrite",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:elasticfilesystem:us-east-1:",
          {
           "Ref": "AWS::AccountId"
          },
          ":file-system/",
          {
           "Ref": "NextJsNextjsFileSystemF101088C"
          }
         ]
        ]
       }
      },
      {
       "Action": [
        "elasticfilesystem:ClientMount",
        "elasticfilesystem:ClientWrite"
       ],
       "Condition": {
        "Bool": {
         "elasticfilesystem:AccessedViaMountTarget": "true"
        }
       },
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "NextJsNextjsFileSystemF101088C",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:SendMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "NextJsNextjsRevalidationQueueB942E96C",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "NextJsNextjsFunctionsServiceRoleDefaultPolicy67C77442",
    "Roles": [
     {
      "Ref": "NextJsNextjsFunctionsServiceRoleF0A9BA6F"
     }
    ]
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFunctions/Functions/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "NextJsNextjsFunctionsSecurityGroup230FAC37": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function CdkStackNextJsNextjsFunctions05F9BF91",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "NextJsNextjsVpc9CFBA973"
    }
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFunctions/Functions/SecurityGroup/Resource"
   }
  },
  "NextJsNextjsFunctionsF517EFAF": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "ImageUri": {
      "Fn::Sub": "${AWS::AccountId}.dkr.ecr.us-east-1.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-${AWS::AccountId}-us-east-1:88e4b0b97e257e61ad683b6a5e7a9a1a219b827ffab974c9c35ec4ac61b9f471"
     }
    },
    "Environment": {
     "Variables": {
      "AWS_LWA_ENABLE_COMPRESSION": "true",
      "AWS_LWA_INVOKE_MODE": "response_stream",
      "AWS_LWA_READINESS_CHECK_PATH": "/api/health",
      "AWS_LWA_READINESS_CHECK_PORT": "3000",
      "READINESS_CHECK_PATH": "http://127.0.0.1:3000/api/health",
      "CDK_NEXTJS_QUEUE_URL": {
       "Ref": "NextJsNextjsRevalidationQueueB942E96C"
      }
     }
    },
    "FileSystemConfigs": [
     {
      "Arn": {
       "Fn::Join": [
        "",
        [
         "arn:aws:elasticfilesystem:us-east-1:",
         {
          "Ref": "AWS::AccountId"
         },
         ":access-point/",
         {
          "Ref": "NextJsNextjsFileSystemAccessPoint9C99A27E"
         }
        ]
       ]
      },
      "LocalMountPath": "/mnt/cdk-nextjs"
     }
    ],
    "ImageConfig": {
     "Command": [
      "node",
      "server.js"
     ]
    },
    "MemorySize": 2048,
    "PackageType": "Image",
    "Role": {
     "Fn::GetAtt": [
      "NextJsNextjsFunctionsServiceRoleF0A9BA6F",
      "Arn"
     ]
    },
    "Timeout": 30,
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "NextJsNextjsFunctionsSecurityGroup230FAC37",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet1Subnet5B3FAF3A"
      },
      {
       "Ref": "NextJsNextjsVpcPrivateWithEgressSubnet2SubnetD5C2942D"
      }
     ]
    }
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsFileSystemEfsSecurityGroupfromCdkStackNextJsNextjsAssetsDeploymentFnSecurityGroupE7A60B5E2049F343EFB6",
    "NextJsNextjsFileSystemEfsSecurityGroupfromCdkStackNextJsNextjsFunctionsSecurityGroupCD4ABD8A20493989A87A",
    "NextJsNextjsFunctionsServiceRoleDefaultPolicy67C77442",
    "NextJsNextjsFunctionsServiceRoleF0A9BA6F",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFunctions/Functions/Resource",
    "aws:asset:path": "asset.88e4b0b97e257e61ad683b6a5e7a9a1a219b827ffab974c9c35ec4ac61b9f471",
    "aws:asset:dockerfile-path": "global-functions.Dockerfile",
    "aws:asset:docker-build-args": {
     "BUILDER_IMAGE_TAG": "cdk-nextjs/builder-1a2f314c0a16",
     "DATA_CACHE_DIR": "data-cache",
     "FULL_ROUTE_CACHE_DIR": "full-route-cache",
     "PUBLIC_DIR": "public",
     "IMAGE_CACHE_DIR": "image-cache",
     "MOUNT_PATH": "/mnt/cdk-nextjs",
     "RELATIVE_PATH_TO_WORKSPACE": "."
    },
    "aws:asset:property": "Code.ImageUri"
   }
  },
  "NextJsNextjsFunctionsFunctionUrlF1C526C0": {
   "Type": "AWS::Lambda::Url",
   "Properties": {
    "AuthType": "AWS_IAM",
    "InvokeMode": "RESPONSE_STREAM",
    "TargetFunctionArn": {
     "Fn::GetAtt": [
      "NextJsNextjsFunctionsF517EFAF",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet17C2B4D7F",
    "NextJsNextjsFileSystemEfsMountTargetPrivateWithEgressSubnet2389CF9C5",
    "NextJsNextjsVpcPrivateWithEgressSubnet1DefaultRoute09F68D41",
    "NextJsNextjsVpcPrivateWithEgressSubnet1RouteTableAssociation2A23C726",
    "NextJsNextjsVpcPrivateWithEgressSubnet2DefaultRoute4DE98093",
    "NextJsNextjsVpcPrivateWithEgressSubnet2RouteTableAssociation6E40C06E"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsFunctions/Functions/FunctionUrl/Resource"
   }
  },
  "NextJsNextjsDistributionCloudFrontFn49A4121E": {
   "Type": "AWS::CloudFront::Function",
   "Properties": {
    "AutoPublish": true,
    "FunctionCode": "\n          function handler(event) {\n            var request = event.request;\n            request.headers[\"x-forwarded-host\"] = request.headers.host;\n            return request;\n          }\n          ",
    "FunctionConfig": {
     "Comment": "us-east-1CdkStackNextJsNetionCloudFrontFnB775491C",
     "Runtime": "cloudfront-js-1.0"
    },
    "Name": "us-east-1CdkStackNextJsNetionCloudFrontFnB775491C"
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/CloudFrontFn/Resource"
   }
  },
  "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198": {
   "Type": "AWS::CloudFront::ResponseHeadersPolicy",
   "Properties": {
    "ResponseHeadersPolicyConfig": {
     "Comment": "Nextjs Static Response Headers Policy for CdkStack",
     "Name": "CdkStackNextJsNextjsDistributionStaticResponseHeadersPolicy239C7312",
     "SecurityHeadersConfig": {
      "ContentTypeOptions": {
       "Override": false
      },
      "FrameOptions": {
       "FrameOption": "SAMEORIGIN",
       "Override": false
      },
      "ReferrerPolicy": {
       "Override": false,
       "ReferrerPolicy": "strict-origin-when-cross-origin"
      },
      "StrictTransportSecurity": {
       "AccessControlMaxAgeSec": 31536000,
       "IncludeSubdomains": true,
       "Override": false,
       "Preload": true
      },
      "XSSProtection": {
       "ModeBlock": true,
       "Override": false,
       "Protection": true
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/StaticResponseHeadersPolicy/Resource"
   }
  },
  "NextJsNextjsDistributionDynamicCachePolicy2FDAA03F": {
   "Type": "AWS::CloudFront::CachePolicy",
   "Properties": {
    "CachePolicyConfig": {
     "Comment": "Nextjs Dynamic Cache Policy for CdkStack",
     "DefaultTTL": 86400,
     "MaxTTL": 31536000,
     "MinTTL": 0,
     "Name": "CdkStackNextJsNextjsDistributionDynamicCachePolicy674AA1A9-us-east-1",
     "ParametersInCacheKeyAndForwardedToOrigin": {
      "CookiesConfig": {
       "CookieBehavior": "all"
      },
      "EnableAcceptEncodingBrotli": true,
      "EnableAcceptEncodingGzip": true,
      "HeadersConfig": {
       "HeaderBehavior": "whitelist",
       "Headers": [
        "accept",
        "rsc",
        "next-router-prefetch",
        "next-router-state-tree",
        "next-url",
        "x-prerender-revalidate"
       ]
      },
      "QueryStringsConfig": {
       "QueryStringBehavior": "all"
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/DynamicCachePolicy/Resource"
   }
  },
  "NextJsNextjsDistributionDynamicResponseHeadersPolicy58A1CD96": {
   "Type": "AWS::CloudFront::ResponseHeadersPolicy",
   "Properties": {
    "ResponseHeadersPolicyConfig": {
     "Comment": "Nextjs Dynamic Response Headers Policy for CdkStack",
     "Name": "CdkStackNextJsNextjsDistributionDynamicResponseHeadersPolicyA4AA93F5",
     "SecurityHeadersConfig": {
      "ContentTypeOptions": {
       "Override": false
      },
      "FrameOptions": {
       "FrameOption": "SAMEORIGIN",
       "Override": false
      },
      "ReferrerPolicy": {
       "Override": false,
       "ReferrerPolicy": "strict-origin-when-cross-origin"
      },
      "StrictTransportSecurity": {
       "AccessControlMaxAgeSec": 31536000,
       "IncludeSubdomains": true,
       "Override": false,
       "Preload": true
      },
      "XSSProtection": {
       "ModeBlock": true,
       "Override": false,
       "Protection": true
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/DynamicResponseHeadersPolicy/Resource"
   }
  },
  "NextJsNextjsDistributionImageCachePolicy61B64FD0": {
   "Type": "AWS::CloudFront::CachePolicy",
   "Properties": {
    "CachePolicyConfig": {
     "Comment": "Nextjs Image Cache Policy for CdkStack",
     "DefaultTTL": 86400,
     "MaxTTL": 31536000,
     "MinTTL": 0,
     "Name": "CdkStackNextJsNextjsDistributionImageCachePolicyCD4E1DAA-us-east-1",
     "ParametersInCacheKeyAndForwardedToOrigin": {
      "CookiesConfig": {
       "CookieBehavior": "none"
      },
      "EnableAcceptEncodingBrotli": true,
      "EnableAcceptEncodingGzip": true,
      "HeadersConfig": {
       "HeaderBehavior": "whitelist",
       "Headers": [
        "accept"
       ]
      },
      "QueryStringsConfig": {
       "QueryStringBehavior": "all"
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/ImageCachePolicy/Resource"
   }
  },
  "NextJsNextjsDistributionImageResponseHeadersPolicy0442288F": {
   "Type": "AWS::CloudFront::ResponseHeadersPolicy",
   "Properties": {
    "ResponseHeadersPolicyConfig": {
     "Comment": "Nextjs Image Response Headers Policy for CdkStack",
     "Name": "CdkStackNextJsNextjsDistributionImageResponseHeadersPolicy0B0B4399",
     "SecurityHeadersConfig": {
      "ContentTypeOptions": {
       "Override": false
      },
      "FrameOptions": {
       "FrameOption": "SAMEORIGIN",
       "Override": false
      },
      "ReferrerPolicy": {
       "Override": false,
       "ReferrerPolicy": "strict-origin-when-cross-origin"
      },
      "StrictTransportSecurity": {
       "AccessControlMaxAgeSec": 31536000,
       "IncludeSubdomains": true,
       "Override": false,
       "Preload": true
      },
      "XSSProtection": {
       "ModeBlock": true,
       "Override": false,
       "Protection": true
      }
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/ImageResponseHeadersPolicy/Resource"
   }
  },
  "NextJsNextjsDistributionOrigin1FunctionUrlOriginAccessControlE6FFB132": {
   "Type": "AWS::CloudFront::OriginAccessControl",
   "Properties": {
    "OriginAccessControlConfig": {
     "Name": "CdkStackNextJsNextjsDistribunctionUrlOriginAccessControlB35FEFF8",
     "OriginAccessControlOriginType": "lambda",
     "SigningBehavior": "always",
     "SigningProtocol": "sigv4"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/Distribution/Origin1/FunctionUrlOriginAccessControl/Resource"
   }
  },
  "NextJsNextjsDistributionOrigin1InvokeFromApiForCdkStackNextJsNextjsDistributionOrigin17B8A5EDA1A84EE15": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunctionUrl",
    "FunctionName": {
     "Fn::GetAtt": [
      "NextJsNextjsFunctionsFunctionUrlF1C526C0",
      "FunctionArn"
     ]
    },
    "Principal": "cloudfront.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":cloudfront::",
       {
        "Ref": "AWS::AccountId"
       },
       ":distribution/",
       {
        "Ref": "NextJsNextjsDistributionCC78932F"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/Distribution/Origin1/InvokeFromApiForCdkStackNextJsNextjsDistributionOrigin17B8A5EDA"
   }
  },
  "NextJsNextjsDistributionCC78932F": {
   "Type": "AWS::CloudFront::Distribution",
   "Properties": {
    "DistributionConfig": {
     "CacheBehaviors": [
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "PathPattern": "_next/static*",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "PathPattern": "file.svg",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "PathPattern": "globe.svg",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "PathPattern": "next.svg",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "PathPattern": "vercel.svg",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "PathPattern": "window.svg",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionStaticResponseHeadersPolicyF8824198"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "ViewerProtocolPolicy": "redirect-to-https"
      },
      {
       "AllowedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "CachePolicyId": {
        "Ref": "NextJsNextjsDistributionImageCachePolicy61B64FD0"
       },
       "CachedMethods": [
        "GET",
        "HEAD",
        "OPTIONS"
       ],
       "Compress": true,
       "FunctionAssociations": [
        {
         "EventType": "viewer-request",
         "FunctionARN": {
          "Fn::GetAtt": [
           "NextJsNextjsDistributionCloudFrontFn49A4121E",
           "FunctionARN"
          ]
         }
        }
       ],
       "OriginRequestPolicyId": "b689b0a8-53d0-40ab-baf2-68738e2966ac",
       "PathPattern": "_next/image*",
       "ResponseHeadersPolicyId": {
        "Ref": "NextJsNextjsDistributionImageResponseHeadersPolicy0442288F"
       },
       "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin17B8A5EDA",
       "ViewerProtocolPolicy": "redirect-to-https"
      }
     ],
     "Comment": "cdk-nextjs Distribution for CdkStack",
     "DefaultCacheBehavior": {
      "AllowedMethods": [
       "GET",
       "HEAD",
       "OPTIONS",
       "PUT",
       "PATCH",
       "POST",
       "DELETE"
      ],
      "CachePolicyId": {
       "Ref": "NextJsNextjsDistributionDynamicCachePolicy2FDAA03F"
      },
      "Compress": true,
      "FunctionAssociations": [
       {
        "EventType": "viewer-request",
        "FunctionARN": {
         "Fn::GetAtt": [
          "NextJsNextjsDistributionCloudFrontFn49A4121E",
          "FunctionARN"
         ]
        }
       }
      ],
      "OriginRequestPolicyId": "b689b0a8-53d0-40ab-baf2-68738e2966ac",
      "ResponseHeadersPolicyId": {
       "Ref": "NextJsNextjsDistributionDynamicResponseHeadersPolicy58A1CD96"
      },
      "TargetOriginId": "CdkStackNextJsNextjsDistributionOrigin17B8A5EDA",
      "ViewerProtocolPolicy": "redirect-to-https"
     },
     "Enabled": true,
     "HttpVersion": "http2and3",
     "IPV6Enabled": true,
     "Origins": [
      {
       "CustomOriginConfig": {
        "OriginProtocolPolicy": "https-only",
        "OriginSSLProtocols": [
         "TLSv1.2"
        ]
       },
       "DomainName": {
        "Fn::Select": [
         2,
         {
          "Fn::Split": [
           "/",
           {
            "Fn::GetAtt": [
             "NextJsNextjsFunctionsFunctionUrlF1C526C0",
             "FunctionUrl"
            ]
           }
          ]
         }
        ]
       },
       "Id": "CdkStackNextJsNextjsDistributionOrigin17B8A5EDA",
       "OriginAccessControlId": {
        "Fn::GetAtt": [
         "NextJsNextjsDistributionOrigin1FunctionUrlOriginAccessControlE6FFB132",
         "Id"
        ]
       }
      },
      {
       "DomainName": {
        "Fn::GetAtt": [
         "NextJsNextjsStaticAssetsBucketA3847FEE",
         "RegionalDomainName"
        ]
       },
       "Id": "CdkStackNextJsNextjsDistributionOrigin22157B9A1",
       "OriginAccessControlId": {
        "Fn::GetAtt": [
         "NextJsNextjsDistributionOrigin2S3OriginAccessControl305E48B2",
         "Id"
        ]
       },
       "S3OriginConfig": {
        "OriginAccessIdentity": ""
       }
      }
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/Distribution/Resource"
   }
  },
  "NextJsNextjsDistributionOrigin2S3OriginAccessControl305E48B2": {
   "Type": "AWS::CloudFront::OriginAccessControl",
   "Properties": {
    "OriginAccessControlConfig": {
     "Name": "CdkStackNextJsNextjsDistribuOrigin2S3OriginAccessControl3C9B0FEC",
     "OriginAccessControlOriginType": "s3",
     "SigningBehavior": "always",
     "SigningProtocol": "sigv4"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsDistribution/Distribution/Origin2/S3OriginAccessControl/Resource"
   }
  },
  "NextJsNextjsRevalidationQueueB942E96C": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "ContentBasedDeduplication": true,
    "FifoQueue": true
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsRevalidation/Queue/Resource"
   }
  },
  "NextJsNextjsRevalidationQueuePolicyB5ECA5CF": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sqs:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": {
        "Fn::GetAtt": [
         "NextJsNextjsRevalidationQueueB942E96C",
         "Arn"
        ]
       },
       "Sid": "DenyUnsecureTransport"
      }
     ],
     "Version": "2012-10-17"
    },
    "Queues": [
     {
      "Ref": "NextJsNextjsRevalidationQueueB942E96C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsRevalidation/Queue/Policy/Resource"
   }
  },
  "NextJsNextjsRevalidationFnServiceRole757C469F": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsRevalidation/Fn/ServiceRole/Resource"
   }
  },
  "NextJsNextjsRevalidationFnServiceRoleDefaultPolicyC7DC16A3": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "sqs:ChangeMessageVisibility",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:ReceiveMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "NextJsNextjsRevalidationQueueB942E96C",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "NextJsNextjsRevalidationFnServiceRoleDefaultPolicyC7DC16A3",
    "Roles": [
     {
      "Ref": "NextJsNextjsRevalidationFnServiceRole757C469F"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsRevalidation/Fn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "NextJsNextjsRevalidationFn78ADA0AB": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "dff54f7a2b1453053e4c3eef734ecca53b43c745e604dd2cdfcfec1f8f7c0c7a.zip"
    },
    "Description": "src/lambdas/revalidate/revalidate.lambda.ts",
    "Environment": {
     "Variables": {
      "PREVIEW_MODE_ID": {
       "Fn::GetAtt": [
        "NextJsNextjsAssetsDeploymentCustomResource3AFD6925",
        "previewModeId"
       ]
      }
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "NextJsNextjsRevalidationFnServiceRole757C469F",
      "Arn"
     ]
    },
    "Runtime": "nodejs22.x",
    "Timeout": 20
   },
   "DependsOn": [
    "NextJsNextjsRevalidationFnServiceRoleDefaultPolicyC7DC16A3",
    "NextJsNextjsRevalidationFnServiceRole757C469F"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsRevalidation/Fn/Resource",
    "aws:asset:path": "asset.dff54f7a2b1453053e4c3eef734ecca53b43c745e604dd2cdfcfec1f8f7c0c7a.lambda",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "NextJsNextjsRevalidationFnSqsEventSourceCdkStackNextJsNextjsRevalidationQueue25F72F09C7677B94": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "EventSourceArn": {
     "Fn::GetAtt": [
      "NextJsNextjsRevalidationQueueB942E96C",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "NextJsNextjsRevalidationFn78ADA0AB"
    }
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsRevalidation/Fn/SqsEventSource:CdkStackNextJsNextjsRevalidationQueue25F72F09/Resource"
   }
  },
  "NextJsNextjsInvalidationAwsCR7EBB3CD8": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"physicalResourceId\":{\"id\":\"",
       {
        "Ref": "NextJsNextjsDistributionCC78932F"
       },
       "-1739255824925\"},\"action\":\"CreateInvalidationCommand\",\"service\":\"@aws-sdk/client-cloudfront\",\"parameters\":{\"DistributionId\":\"",
       {
        "Ref": "NextJsNextjsDistributionCC78932F"
       },
       "\",\"InvalidationBatch\":{\"CallerReference\":\"2025-02-11T06:37:04.925Z\",\"Paths\":{\"Quantity\":1,\"Items\":[\"/*\"]}}}}"
      ]
     ]
    },
    "Update": {
     "Fn::Join": [
      "",
      [
       "{\"physicalResourceId\":{\"id\":\"",
       {
        "Ref": "NextJsNextjsDistributionCC78932F"
       },
       "-1739255824925\"},\"action\":\"CreateInvalidationCommand\",\"service\":\"@aws-sdk/client-cloudfront\",\"parameters\":{\"DistributionId\":\"",
       {
        "Ref": "NextJsNextjsDistributionCC78932F"
       },
       "\",\"InvalidationBatch\":{\"CallerReference\":\"2025-02-11T06:37:04.925Z\",\"Paths\":{\"Quantity\":1,\"Items\":[\"/*\"]}}}}"
      ]
     ]
    },
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "NextJsNextjsInvalidationAwsCRCustomResourcePolicyD006D5BE"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsInvalidation/AwsCR/Resource/Default"
   }
  },
  "NextJsNextjsInvalidationAwsCRCustomResourcePolicyD006D5BE": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "cloudfront:CreateInvalidation",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:cloudfront::",
          {
           "Ref": "AWS::AccountId"
          },
          ":distribution/",
          {
           "Ref": "NextJsNextjsDistributionCC78932F"
          }
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "NextJsNextjsInvalidationAwsCRCustomResourcePolicyD006D5BE",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/NextJs/NextjsInvalidation/AwsCR/CustomResourcePolicy/Resource"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Description": {
     "Fn::Join": [
      "",
      [
       "Lambda function for auto-deleting objects in ",
       {
        "Ref": "NextJsNextjsStaticAssetsBucketA3847FEE"
       },
       " S3 bucket."
      ]
     ]
    }
   },
   "DependsOn": [
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
    "aws:asset:path": "asset.faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6",
    "aws:asset:property": "Code"
   }
  },
  "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ],
    "Policies": [
     {
      "PolicyName": "Inline",
      "PolicyDocument": {
       "Version": "2012-10-17",
       "Statement": [
        {
         "Effect": "Allow",
         "Action": [
          "ec2:AuthorizeSecurityGroupIngress",
          "ec2:AuthorizeSecurityGroupEgress",
          "ec2:RevokeSecurityGroupIngress",
          "ec2:RevokeSecurityGroupEgress"
         ],
         "Resource": [
          {
           "Fn::Join": [
            "",
            [
             "arn:aws:ec2:us-east-1:",
             {
              "Ref": "AWS::AccountId"
             },
             ":security-group/",
             {
              "Fn::GetAtt": [
               "NextJsNextjsVpc9CFBA973",
               "DefaultSecurityGroup"
              ]
             }
            ]
           ]
          }
         ]
        }
       ]
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role"
   }
  },
  "CustomVpcRestrictDefaultSGCustomResourceProviderHandlerDC833E5E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "__entrypoint__.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Description": "Lambda function for removing all inbound/outbound rules from the VPC default security group"
   },
   "DependsOn": [
    "CustomVpcRestrictDefaultSGCustomResourceProviderRole26592FE0"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler",
    "aws:asset:path": "asset.7fa1e366ee8a9ded01fc355f704cff92bfd179574e6f9cfee800a3541df1b200",
    "aws:asset:property": "Code"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "ce2f3595a340d6c519a65888ef97e3b9b64f053f83608e32cc28162e22d7d99a.zip"
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Timeout": 120
   },
   "DependsOn": [
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
   ],
   "Metadata": {
    "aws:cdk:path": "CdkStack/AWS679f53fac002430cb0da5b7982bd2287/Resource",
    "aws:asset:path": "asset.ce2f3595a340d6c519a65888ef97e3b9b64f053f83608e32cc28162e22d7d99a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/3VTQXKjMBB8S+6yNrEPOTuOk/UhCQtZX11CjMnEIBHNyC4Xxd+3EBhsb3JhulvNaGiJqby7v5e3N+pAE53tJgWmsk5Y6Z1QB9rUNJP1g9c7YLHYmh51JbIF6uMo97wjD4qgEaCnsl5XujWto4WIfFqgTnxqun4jiq1neFdpAaM+anMiq1ExWjOYW7BcRW15VfysGA7qKCKHe8UwNl4ZBmdgMHST9GzOrPRHCYZF8G2VhnWllyarLBoWCWjvkI/PzvoqDHYtrKPF4L5eX5ncAVEjYEuyfsICkiMxlK3xkr1Yb/hduRxYzLUGoujU8Yw2olBlmilZP1q9A7cqVQ5P3uhTLgM+gb+uaPW+ROBKJDo3iOUeDCfWOw0vqqrQ5CHX/9UETV4A22GTRqAqZR3b7shCHa9Eh9ob4DaKCJjk2dDzVmnXZAyVJWTrju2NEbqwPts6a1jW335ZDFRZQ/AbVAaOxg1/WFD6A0bTOX1EYoepvw7szWGOfewLa9jZEN4P8kWXZPaNqxH0RbL+48GHoDoQnuNgZ7QRNDtFFnJqxMIT2zIGCifSf22HBxCsCau8P8I3z5VnocOrG9fbSM4PdN3ugkbO7jED1/3AxmYgP+nXfjqVdzN5e/NJiBPnDWMJMu7qP+pEFmVEBAAA"
   },
   "Metadata": {
    "aws:cdk:path": "CdkStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "NextJsNextjsDistributionDistributionDomainName3EDFAAAD": {
   "Value": {
    "Fn::GetAtt": [
     "NextJsNextjsDistributionCC78932F",
     "DomainName"
    ]
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}